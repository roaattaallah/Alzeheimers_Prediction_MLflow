(this["webpackJsonpalzheimers-prediction-app"]=this["webpackJsonpalzheimers-prediction-app"]||[]).push([[0],{154:function(e,a,t){e.exports=t(169)},169:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(118),s=t.n(r),o=t(261),i=t(246),c=t(253),m=t(245),u=t(262),d=t(249),b=t(251),p=t(252),y=t(228),E=t(254),g=t(240),f=t(236),h=t(241),x=t(248),v=t(257),C=t(67),k=t.n(C),S=t(124),D=t.n(S),N=t(123),j=t.n(N),O=t(122),A=t.n(O),M=t(120),P=t.n(M),I=t(106),Y=t.n(I);const z={Gender:{0:"Male",1:"Female"},Ethnicity:{0:"Caucasian",1:"African American",2:"Asian",3:"Other"},EducationLevel:{0:"None",1:"High School",2:"Bachelor's",3:"Higher"},Smoking:{0:"No",1:"Yes"},FamilyHistoryAlzheimers:{0:"No",1:"Yes"},CardiovascularDisease:{0:"No",1:"Yes"},Diabetes:{0:"No",1:"Yes"},Depression:{0:"No",1:"Yes"},HeadInjury:{0:"No",1:"Yes"},Hypertension:{0:"No",1:"Yes"},MemoryComplaints:{0:"No",1:"Yes"},BehavioralProblems:{0:"No",1:"Yes"},Confusion:{0:"No",1:"Yes"},Disorientation:{0:"No",1:"Yes"},PersonalityChanges:{0:"No",1:"Yes"},DifficultyCompletingTasks:{0:"No",1:"Yes"},Forgetfulness:{0:"No",1:"Yes"}};var F=e=>{let{models:a,selectedModel:t,onChange:l}=e;const[r,s]=n.a.useState(null);if(!a||0===Object.keys(a).length)return null;return n.a.createElement(b.a,{sx:{mb:3,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",bgcolor:"rgba(25, 118, 210, 0.03)",borderTop:"4px solid #1976d2"}},n.a.createElement(p.a,null,n.a.createElement(i.a,{sx:{display:"flex",alignItems:"center",mb:2}},n.a.createElement(P.a,{color:"primary",sx:{mr:1}}),n.a.createElement(c.a,{variant:"h6",color:"primary"},"ML Model Selection")),n.a.createElement(y.a,{sx:{mb:2}}),n.a.createElement(E.a,{fullWidth:!0,variant:"outlined",sx:{mb:2}},n.a.createElement(g.a,{id:"model-select-label"},"Select Prediction Model"),n.a.createElement(f.a,{labelId:"model-select-label",id:"model-select",value:t,label:"Select Prediction Model",onChange:l},Object.entries(a).map(e=>{let[a,t]=e;const l=(e=>{switch(e){case"rf":return"Random Forest";case"logistic":return"Logistic Regression";case"xgboost":return"XGBoost";case"svm":return"SVM";case"knn":return"KNN";case"nn":return"Neural Network";default:return e}})(a);return n.a.createElement(h.a,{key:a,value:a},n.a.createElement(i.a,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}},n.a.createElement(i.a,{sx:{display:"flex",alignItems:"center"}},t.is_best&&n.a.createElement(k.a,{color:"success",fontSize:"small",sx:{mr:.5}}),"nn"===a&&n.a.createElement(Y.a,{fontSize:"small",sx:{mr:.5,color:"secondary.main"}}),n.a.createElement("span",null,l)),n.a.createElement(i.a,{sx:{display:"flex",alignItems:"center"}},n.a.createElement(x.a,{label:`Acc: ${(100*t.accuracy).toFixed(1)}%`,size:"small",color:t.is_best?"success":"primary",variant:t.is_best?"filled":"outlined",sx:{mr:1}}),t.roc_auc&&n.a.createElement(x.a,{label:`ROC: ${(100*t.roc_auc).toFixed(1)}%`,size:"small",color:t.is_best?"success":"secondary",variant:t.is_best?"filled":"outlined"}))))}))),t&&a[t]&&n.a.createElement(i.a,{sx:{mt:2}},a[t].is_best&&n.a.createElement(i.a,{sx:{display:"flex",alignItems:"center",p:1,bgcolor:"rgba(76, 175, 80, 0.1)",borderRadius:1,mb:2}},n.a.createElement(k.a,{color:"success",fontSize:"small",sx:{mr:1}}),n.a.createElement(c.a,{variant:"body2",color:"success.dark"},"This is the best performing model based on ROC AUC score")),n.a.createElement(i.a,{sx:{mb:2}},n.a.createElement(d.a,{container:!0,spacing:2},n.a.createElement(d.a,{item:!0,xs:6},n.a.createElement(i.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:1,borderRadius:1,bgcolor:"rgba(25, 118, 210, 0.05)"}},n.a.createElement(c.a,{variant:"caption",color:"text.secondary"},"Accuracy"),n.a.createElement(c.a,{variant:"h6",color:"primary"},(100*a[t].accuracy).toFixed(1),"%"))),n.a.createElement(d.a,{item:!0,xs:6},n.a.createElement(i.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:1,borderRadius:1,bgcolor:"rgba(156, 39, 176, 0.05)"}},n.a.createElement(c.a,{variant:"caption",color:"text.secondary"},"ROC AUC"),n.a.createElement(c.a,{variant:"h6",color:"secondary"},a[t].roc_auc?(100*a[t].roc_auc).toFixed(1)+"%":"N/A"))))),"nn"===t&&n.a.createElement(i.a,{sx:{display:"flex",alignItems:"center",p:1,mb:2,bgcolor:"rgba(156, 39, 176, 0.05)",borderRadius:1}},n.a.createElement(Y.a,{color:"secondary",fontSize:"small",sx:{mr:1}}),n.a.createElement(c.a,{variant:"body2",color:"text.secondary"},"Deep neural network with multiple hidden layers")),(a[t].parameters&&Object.keys(a[t].parameters).length>0||a[t].params&&Object.keys(a[t].params).length>0)&&n.a.createElement(i.a,{sx:{mt:2}},n.a.createElement(i.a,{onClick:()=>{var e;s(r===(e=t)?null:e)},sx:{display:"flex",alignItems:"center",cursor:"pointer",padding:"4px 8px",borderRadius:"4px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},n.a.createElement(A.a,{fontSize:"small",sx:{mr:1,color:"primary.main"}}),n.a.createElement(c.a,{variant:"body2",color:"primary"},"Model Hyperparameters (Tuned)"),r===t?n.a.createElement(j.a,{fontSize:"small",sx:{ml:1}}):n.a.createElement(D.a,{fontSize:"small",sx:{ml:1}})),n.a.createElement(v.a,{in:r===t},n.a.createElement(i.a,{sx:{mt:1,ml:2,padding:1.5,backgroundColor:"rgba(0, 0, 0, 0.02)",borderRadius:1}},Object.entries(a[t].parameters||a[t].params||{}).map(e=>{let[a,t]=e;return n.a.createElement(c.a,{key:a,variant:"body2",sx:{mb:.5}},n.a.createElement("strong",null,a,":")," ",((e,a)=>z[e]&&void 0!==z[e][a]?z[e][a]:"number"===typeof a?Number.isInteger(a)?a:a.toFixed(3):a)(a,t))})))))))},w=t(242),B=t(234),H=t(258),_=t(243),L=t(238),R=t(250),T=t(260),W=t(69),G=t.n(W);const Q={Gender:{0:"Male",1:"Female"},Ethnicity:{0:"Caucasian",1:"African American",2:"Asian",3:"Other"},EducationLevel:{0:"None",1:"High School",2:"Bachelor's",3:"Higher"},Smoking:{0:"No",1:"Yes"},FamilyHistoryAlzheimers:{0:"No",1:"Yes"},CardiovascularDisease:{0:"No",1:"Yes"},Diabetes:{0:"No",1:"Yes"},Depression:{0:"No",1:"Yes"},HeadInjury:{0:"No",1:"Yes"},Hypertension:{0:"No",1:"Yes"},MemoryComplaints:{0:"No",1:"Yes"},BehavioralProblems:{0:"No",1:"Yes"},Confusion:{0:"No",1:"Yes"},Disorientation:{0:"No",1:"Yes"},PersonalityChanges:{0:"No",1:"Yes"},DifficultyCompletingTasks:{0:"No",1:"Yes"},Forgetfulness:{0:"No",1:"Yes"}},U={Age:52,Gender:0,Ethnicity:0,EducationLevel:3,BMI:23.5,Smoking:0,AlcoholConsumption:1,PhysicalActivity:3,DietQuality:5,SleepQuality:5,FamilyHistoryAlzheimers:0,CardiovascularDisease:0,Diabetes:0,Depression:0,HeadInjury:0,Hypertension:0,SystolicBP:115,DiastolicBP:75,CholesterolTotal:150,CholesterolLDL:70,CholesterolHDL:65,CholesterolTriglycerides:80,MMSE:30,FunctionalAssessment:10,MemoryComplaints:0,BehavioralProblems:0,ADL:10,Confusion:0,Disorientation:0,PersonalityChanges:0,DifficultyCompletingTasks:0,Forgetfulness:0},$={Age:92,Gender:1,Ethnicity:1,EducationLevel:0,BMI:18,Smoking:1,AlcoholConsumption:3,PhysicalActivity:0,DietQuality:1,SleepQuality:1,FamilyHistoryAlzheimers:1,CardiovascularDisease:1,Diabetes:1,Depression:1,HeadInjury:1,Hypertension:1,SystolicBP:175,DiastolicBP:95,CholesterolTotal:280,CholesterolLDL:180,CholesterolHDL:30,CholesterolTriglycerides:250,MMSE:5,FunctionalAssessment:2,MemoryComplaints:1,BehavioralProblems:1,ADL:2,Confusion:1,Disorientation:1,PersonalityChanges:1,DifficultyCompletingTasks:1,Forgetfulness:1};var V=e=>{let{features:a,onSubmit:t}=e;const[r,s]=Object(l.useState)(U),[o,m]=Object(l.useState)([]);console.log("PatientForm Version: REBUILT WITH BUTTONS - "+(new Date).toISOString());const u=e=>{s(e),m([])};Object(l.useEffect)(()=>{if(a&&Object.keys(a).length>0){const e={...r};Object.keys(a).forEach(a=>{a in e||(e[a]=y(a))}),s(e)}},[a]);const y=e=>f(e)?0:e.includes("Cholesterol")?150:"SystolicBP"===e?120:"DiastolicBP"===e?80:"BMI"===e?25:0;if(!a||0===Object.keys(a).length)return null;const E=e=>{const{name:a,value:t}=e.target;s(e=>({...e,[a]:t})),o.includes(a)&&m(o.filter(e=>e!==a))},g=e=>{o.includes(e)?m(o.filter(a=>a!==e)):m([...o,e])},f=e=>e in Q&&2===Object.keys(Q[e]).length,x=e=>{const a={AlcoholConsumption:3,PhysicalActivity:3,DietQuality:5,SleepQuality:5};return e in a&&a[e]},v=e=>Q[e]?Object.entries(Q[e]).map(e=>{let[a,t]=e;return n.a.createElement(h.a,{key:a,value:parseInt(a,10)},t)}):null;return n.a.createElement(b.a,{sx:{mb:3}},n.a.createElement(p.a,null,n.a.createElement(c.a,{variant:"h6",gutterBottom:!0},"Patient Parameters"),n.a.createElement(c.a,{variant:"body2",color:"text.secondary",paragraph:!0},"Enter the patient's information below. Missing values will be handled appropriately."),n.a.createElement(i.a,{sx:{mb:3}},n.a.createElement(c.a,{variant:"body2",gutterBottom:!0},"Load patient profile:"),n.a.createElement(R.a,{variant:"contained","aria-label":"profile selection button group"},n.a.createElement(T.a,{onClick:()=>u(U),color:"success"},"Healthy Patient"),n.a.createElement(T.a,{onClick:()=>u($),color:"error"},"Alzheimer's Patient"))),n.a.createElement("form",{onSubmit:e=>{e.preventDefault();const a={...r};o.forEach(e=>{a[e]=null}),t(a)}},n.a.createElement(d.a,{container:!0,spacing:3},Object.keys(a).map(e=>{if(!(e in r))return null;if(f(e))return n.a.createElement(d.a,{item:!0,xs:12,sm:6,md:4,key:e},n.a.createElement(i.a,{sx:{display:"flex",alignItems:"flex-start"}},n.a.createElement(w.a,{name:e,label:e,fullWidth:!0,select:!0,value:o.includes(e)?"":r[e],onChange:E,disabled:o.includes(e),variant:"outlined",margin:"normal"},v(e)),n.a.createElement(B.a,{title:a[e]||e+" value"},n.a.createElement(H.a,{size:"small",sx:{mt:2.5,ml:1}},n.a.createElement(G.a,{fontSize:"small"})))),n.a.createElement(_.a,{control:n.a.createElement(L.a,{checked:o.includes(e),onChange:()=>g(e)}),label:"Missing value"}));if((t=e)in Q&&Object.keys(Q[t]).length>2)return n.a.createElement(d.a,{item:!0,xs:12,sm:6,md:4,key:e},n.a.createElement(i.a,{sx:{display:"flex",alignItems:"flex-start"}},n.a.createElement(w.a,{name:e,label:e,fullWidth:!0,select:!0,value:o.includes(e)?"":r[e],onChange:E,disabled:o.includes(e),variant:"outlined",margin:"normal"},v(e)),n.a.createElement(B.a,{title:a[e]||e+" value"},n.a.createElement(H.a,{size:"small",sx:{mt:2.5,ml:1}},n.a.createElement(G.a,{fontSize:"small"})))),n.a.createElement(_.a,{control:n.a.createElement(L.a,{checked:o.includes(e),onChange:()=>g(e)}),label:"Missing value"}));if(x(e)){const t=x(e);return n.a.createElement(d.a,{item:!0,xs:12,sm:6,md:4,key:e},n.a.createElement(i.a,{sx:{display:"flex",alignItems:"flex-start"}},n.a.createElement(w.a,{name:e,label:e,fullWidth:!0,select:!0,value:o.includes(e)?"":r[e],onChange:E,disabled:o.includes(e),variant:"outlined",margin:"normal"},(e=>{const a=[];for(let t=0;t<=e;t++)a.push(n.a.createElement(h.a,{key:t,value:t},t));return a})(t)),n.a.createElement(B.a,{title:`${a[e]} (Scale 0-${t})`},n.a.createElement(H.a,{size:"small",sx:{mt:2.5,ml:1}},n.a.createElement(G.a,{fontSize:"small"})))),n.a.createElement(_.a,{control:n.a.createElement(L.a,{checked:o.includes(e),onChange:()=>g(e)}),label:"Missing value"}))}return n.a.createElement(d.a,{item:!0,xs:12,sm:6,md:4,key:e},n.a.createElement(i.a,{sx:{display:"flex",alignItems:"flex-start"}},n.a.createElement(w.a,{name:e,label:e,fullWidth:!0,type:"number",value:o.includes(e)?"":r[e],onChange:E,disabled:o.includes(e),InputProps:{inputProps:{step:"BMI"===e?.1:1}},variant:"outlined",margin:"normal"}),n.a.createElement(B.a,{title:a[e]||e+" value"},n.a.createElement(H.a,{size:"small",sx:{mt:2.5,ml:1}},n.a.createElement(G.a,{fontSize:"small"})))),n.a.createElement(_.a,{control:n.a.createElement(L.a,{checked:o.includes(e),onChange:()=>g(e)}),label:"Missing value"}));var t}),n.a.createElement(d.a,{item:!0,xs:12,sx:{mt:2}},n.a.createElement(T.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large"},"Make Prediction"))))))};var J=e=>{let{onPredict:a,loading:t,featureDescriptions:l}=e;return n.a.createElement(V,{features:l,onSubmit:a})},K=t(126),X=t.n(K);var q=e=>{let{prediction:a}=e;const t="High"===a.risk;return n.a.createElement(b.a,{sx:{mb:3,bgcolor:t?"rgba(244, 67, 54, 0.05)":"rgba(76, 175, 80, 0.05)",borderLeft:t?"4px solid #f44336":"4px solid #4caf50",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"}},n.a.createElement(p.a,null,n.a.createElement(i.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2}},n.a.createElement(c.a,{variant:"h6",color:t?"error":"success",sx:{fontWeight:"bold"}},t?"High Risk":"Low Risk"),n.a.createElement(x.a,{icon:t?n.a.createElement(X.a,null):n.a.createElement(k.a,null),label:a.probability?(100*a.probability).toFixed(1)+"%":"",color:t?"error":"success"})),n.a.createElement(i.a,{sx:{display:"flex",flexDirection:"column",p:2,borderRadius:1,bgcolor:"background.paper"}},n.a.createElement(i.a,{sx:{display:"flex",justifyContent:"space-between",mb:1}},n.a.createElement(c.a,{variant:"body2",color:"text.secondary"},"Model:"),n.a.createElement(c.a,{variant:"body2",fontWeight:"bold"},{rf:"Random Forest",xgboost:"XGBoost",logistic:"Logistic Regression",svm:"Support Vector Machine",knn:"K-Nearest Neighbors",nn:"Neural Network"}[l=a.model_type||"Unknown"]||l)),n.a.createElement(i.a,{sx:{display:"flex",justifyContent:"space-between",mb:1}},n.a.createElement(c.a,{variant:"body2",color:"text.secondary"},"Accuracy:"),n.a.createElement(c.a,{variant:"body2",fontWeight:"bold"},(100*a.accuracy).toFixed(1),"%")),a.roc_auc&&n.a.createElement(i.a,{sx:{display:"flex",justifyContent:"space-between"}},n.a.createElement(c.a,{variant:"body2",color:"text.secondary"},"ROC AUC:"),n.a.createElement(c.a,{variant:"body2",fontWeight:"bold"},(100*a.roc_auc).toFixed(1),"%")))));var l},Z=t(235);var ee=function(){const[e,a]=Object(l.useState)(!0),[t,r]=Object(l.useState)({}),[s,b]=Object(l.useState)({}),[p,y]=Object(l.useState)(""),[E,g]=Object(l.useState)(null),[f,h]=Object(l.useState)(null);return Object(l.useEffect)(()=>{(async()=>{try{a(!0);const e=await Z.a.get("/api/models"),t=await Z.a.get("/api/features"),l={};Object.entries(e.data).forEach(e=>{let[a,t]=e;l[a]={accuracy:t.accuracy,roc_auc:t.roc_auc||0,is_best:t.is_best,parameters:t.parameters||t.params||{}}}),r(l),b(t.data);let n=Object.entries(l).find(e=>{let[a,t]=e;return t.is_best});n||(n=Object.entries(l).reduce((e,a)=>{let[t,l]=a;return!e||l.roc_auc&&l.roc_auc>e[1].roc_auc?[t,l]:e},null),n&&n[1].roc_auc||(n=Object.entries(l).reduce((e,a)=>{let[t,l]=a;return!e||l.accuracy>e[1].accuracy?[t,l]:e},null))),n&&y(n[0]),h(null)}catch(e){console.error("Error fetching data:",e),h("Failed to load models or features. Please check if the backend server is running.")}finally{a(!1)}})()},[]),n.a.createElement(o.a,{maxWidth:"lg"},n.a.createElement(i.a,{sx:{my:4}},n.a.createElement(c.a,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",color:"primary"},"\ud83e\udde0 Alzheimer's Disease Prediction Tool"),n.a.createElement(c.a,{variant:"subtitle1",align:"center",gutterBottom:!0},"This application predicts the likelihood of Alzheimer's disease based on patient parameters using tuned ML models."),f&&n.a.createElement(m.a,{sx:{p:2,my:2,bgcolor:"#ffebee"}},n.a.createElement(c.a,{color:"error"},f)),e&&!f?n.a.createElement(i.a,{sx:{display:"flex",justifyContent:"center",my:4}},n.a.createElement(u.a,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{container:!0,spacing:3},n.a.createElement(d.a,{item:!0,xs:12,md:4},n.a.createElement(F,{models:t,selectedModel:p,onChange:e=>{y(e.target.value),g(null)}}),E&&n.a.createElement(q,{prediction:E})),n.a.createElement(d.a,{item:!0,xs:12,md:8},n.a.createElement(J,{onPredict:async e=>{try{a(!0);const t=await Z.a.post("/api/predict",{model_name:p,parameters:e});g(t.data),h(null),window.scrollTo({top:0,behavior:"smooth"})}catch(t){console.error("Error making prediction:",t),h("Failed to make a prediction. Please try again."),g(null)}finally{a(!1)}},loading:e,featureDescriptions:s}))))))},ae=t(127),te=t(239),le=t(233);const ne=Object(ae.a)({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:"#f5f5f5"}}});s.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(te.a,{theme:ne},n.a.createElement(le.a,null),n.a.createElement(ee,null))))}},[[154,1,2]]]);
//# sourceMappingURL=main.c3a0f128.chunk.js.map